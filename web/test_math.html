<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Markdown + KaTeX Test</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markdown-it-texmath/css/texmath.css">
    <script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <style>
        body { font-family: sans-serif; margin: 2em; }
        textarea { width: 100%; height: 120px; font-size: 1em; }
        .preview { border: 1px solid #ccc; padding: 1em; margin-top: 1em; min-height: 100px; background: #fafafa; }
    </style>
</head>
<body>
    <h2>Markdown + KaTeX Preview</h2>
    <textarea id="mdInput" placeholder="Type Markdown with $math$ or $$math$$ here...">
# Example

Inline math: $E=mc^2$

Block math:

$$
\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}
$$

- List item 1
- List item 2

**Bold text**
    </textarea>
    <div class="preview" id="preview"></div>
    <script>
        // Use markdown-it with texmath for native math support
        const md = window.markdownit({html: true, breaks: true, linkify: true})
            .use(texmath, { engine: katex, delimiters: 'dollars', katexOptions: { strict: false } });

        function render() {
            const input = document.getElementById('mdInput').value;
            const preview = document.getElementById('preview');
            preview.innerHTML = md.render(input);
        }
        document.getElementById('mdInput').addEventListener('input', render);
        window.onload = render;
    </script>
</body>
</html>
